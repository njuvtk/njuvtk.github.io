document.addEventListener("DOMContentLoaded",(()=>{(()=>{const t={canvas:null,ctx:null,W:0,H:0,isStart:!1,mp:150,particles:[],angle:0,tiltAngle:0,confettiActive:!0,animationComplete:!0,animationHandler:null,particleColors:{colorOptions:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],colorIndex:0,colorIncrementer:0,getColor:function(){return++this.colorIncrementer%10==0&&(this.colorIndex=(this.colorIndex+1)%this.colorOptions.length),this.colorOptions[this.colorIndex]}}};function e(){[t.W,t.H]=[t.canvas.width,t.canvas.height]}function n(){t.particles=Array.from({length:t.mp},(()=>{return e=t.particleColors.getColor(),n=t.W,o=t.H,i=t.mp,{x:Math.random()*n,y:Math.random()*o-o,r:(a=10,r=30,Math.floor(Math.random()*(r-a+1)+a)),d:Math.random()*i+10,color:e,tilt:Math.floor(10*Math.random())-10,tiltAngleIncremental:.07*Math.random()+.05,tiltAngle:0};var e,n,o,i,a,r})),t.animationComplete=!1,[t.W,t.H]=[window.innerWidth,window.innerHeight],t.animationComplete||o()}function o(){t.animationComplete||(e(),t.ctx.clearRect(0,0,t.W,t.H),t.particles.forEach((e=>function(t,e){e.beginPath(),e.lineWidth=t.r/2,e.strokeStyle=t.color,e.moveTo(t.x+t.tilt+t.r/4,t.y),e.lineTo(t.x+t.tilt,t.y+t.tilt+t.r/4),e.stroke()}(e,t.ctx))),function(){t.angle+=.01,t.tiltAngle+=.1;0===t.particles.reduce(((e,n,o)=>(t.animationComplete||(!t.confettiActive&&n.y<-15?n.y=t.H+100:(function(e,n){e.tiltAngle+=e.tiltAngleIncremental,e.y+=(Math.cos(t.angle+e.d)+3+e.r/2)/2,e.x+=Math.sin(t.angle),e.tilt=15*Math.sin(e.tiltAngle-n/3)}(n,o),n.y<=t.H&&e++,function(e,n){if(!(e.x>t.W+20||e.x<-20||e.y>t.H))return;const o=n%5>0||n%2==0?{x:Math.random()*t.W,y:-10}:Math.sin(t.angle)>0?{x:-5,y:Math.random()*t.H}:{x:t.W+5,y:Math.random()*t.H};!function(t,e,n){Object.assign(t,{x:e,y:n,tilt:Math.floor(10*Math.random())-10})}(e,o.x,o.y)}(n,o))),e)),0)&&i()}(),t.animationHandler=requestAnimationFrame(o))}function i(){t.animationComplete=!0,t.ctx?.clearRect(0,0,t.W,t.H)}function a(){cancelAnimationFrame(t.animationHandler)}function r(){t.confettiActive=!1,a(),i(),t.isStart=!1}function l(){t.isStart||(e(),t.isStart=!0,a(),setTimeout((()=>{t.confettiActive=!0,t.animationComplete=!1,n()}),100))}return{init:()=>{var n;document.querySelector(".vh-aside-item.user > canvas")&&(n=".vh-aside-item.user > canvas",t.canvas=document.querySelector(n),t.ctx=t.canvas.getContext("2d"),document.querySelectorAll(".vh-aside-item.user").forEach((t=>{t.addEventListener("mouseenter",l),t.addEventListener("mouseleave",r)})),window.addEventListener("resize",e))}}})().init()}));